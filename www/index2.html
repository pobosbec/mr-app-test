<!DOCTYPE html>
<html ng-app="mrApp">
    <head>

        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="viewport" content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimal-ui" />
        <meta name="apple-mobile-web-app-status-bar-style" content="yes" />


        <!--<meta charset="utf-8" />
            <meta name="format-detection"
                  content="telephone=no" />
            <meta name="msapplication-tap-highlight"
                  content="no" />
            <meta name="viewport"
                  content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />-->

        <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.15/angular.min.js"></script>
        <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.15/angular-route.min.js"></script>
        <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.15/angular-resource.min.js"></script>
        <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.15/angular-touch.min.js"></script>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/ngStorage/0.3.6/ngStorage.min.js"></script>

        <script src="js/mobile-angular-ui/dist/js/mobile-angular-ui.min.js" type="text/javascript"></script>
        <!--<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.8/angular.min.js"></script>-->
        <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css">
        <title>Mobile Response Angular App</title>

        <script src="Factories/ApiFactory.js" type="text/javascript"></script>
        <script src="Factories/UsersFactory.js"></script>
        <script src="Factories/ConversationsFactory.js"></script>

        <script src="Controllers/MainController.js" type="text/javascript"></script>
        <script src="Controllers/LoginController.js" type="text/javascript"></script>
        <script src="Controllers/ConversationsController.js" type="text/javascript"></script>
        <script src="Controllers/MessagesController.js" type="text/javascript"></script>
        <script src="Controllers/ProfileController.js" type="text/javascript"></script>
        <script src="Controllers/NewConversationController.js"></script>

        <script src="Scripts/init.js" type="text/javascript"></script>

    </head>
<body ng-controller="MainController">

    <!-- Sidebars -->

    <div class="sidebar sidebar-left" toggleable parent-active-class="sidebar-left-in" id="mainSidebar">
        <h1 class="app-name"><a href="#/main"><img src="http://mobileresponse.com/wp-content/uploads/2013/12/logo1.png" class="logo" alt="Mobile Response" /></a></h1>

        <div class="scrollable">
            <div class="scrollable-content">

                <div ng-show="validateLoad('inboxes')" class="list-group" toggle="off" bubble target="mainSidebar">
                    <a ng-repeat="inbox in inboxes" class="list-group-item" href="#/conversations/{{ inbox.inboxId }}">
                        <div ng-show="inbox.inboxIcon != null">
                            <img height="25" alt="inboxIcon" src="{{ inbox.inboxIcon }}" />
                        </div>
                        {{ inbox.inboxDisplayName }} <i class="fa fa-chevron-right pull-right"></i>
                    </a>
                </div>

            </div>
        </div>

    </div>

    <div class="app">

        <div class="navbar navbar-app navbar-absolute-bottom">
            <div class="btn-group justified">
                <a ng-show="validateLoad('profile')" href="#/profile/{{ myAppUser.id }}" class="btn btn-navbar btn-icon-only">
                    <div ng-show="myAppUser.avatar != null">
                        <img height="25" alt="avatar" src="{{ myAppUser.avatar }}" />
                    </div>
                    <div ng-show="myAppUser.avatar == null">
                        <i class="fa fa-user fa-navbar"></i>
                    </div>
                </a>
                <a ng-show="validateLoad('logout')" href="#/login/logout" class="btn btn-navbar btn-icon-only"><i class="fa fa-list fa-expand"></i></a>
            </div>
        </div>

        <!-- Navbars -->
        <div class="navbar navbar-app navbar-absolute-top">

            <div ng-show="validateLoad('inbox')" class="navbar-brand navbar-brand-center" yield-to="title">
                <a href="#/conversations/{{ inbox.inboxId }}"><span> {{ inbox.inboxDisplayName }}</span></a>
            </div>

            <div class="btn-group pull-left">
                <div ng-click="toggle('mainSidebar')" class="btn btn-navbar sidebar-toggle">
                    <i class="fa fa-bars"></i> Inboxes
                </div>
            </div>

            <div ng-show="validateLoad('inbox')" class="btn-group pull-right" yield-to="navbarAction">
                <div class="btn btn-navbar">
                    <a href="#/newconversation/"><span><i class="fa fa-plus"></i> New </span></a>
                </div>
            </div>

        </div>

        <!-- App Body -->
        <div class="app-body" ng-view="">

        </div>

    </div>

</body>
</html>