<!--<div class="container" ng-class="{'fadeHide': loading,'fadeShow': !loading }">
        <div data-ng-repeat="conversation in conversations">
            <button ng-click="selectConversation(conversation)">{{ conversation }}</button>
        </div>
    <div data-ng-repeat="message in conversationMessages">
        {{ message }}
    </div>
</div>
-->
<div class="container" data-ng-controller="conversationsCtrl as conversationsCtrl">
    <div class="block-header">
        <h2>Messages</h2>
    </div>
    <div class="card m-b-0" id="messages-main">
        <div class="ms-menu" data-ng-class="{ 'toggled': mactrl.lvMenuStat }">
            <div class="ms-block">
                <div class="ms-user">
                    <img src="img/profile-pics/4.jpg" alt="">
                    <div>Signed in as <br/> m-hollaway@gmail.com</div>
                </div>
            </div>

            <div class="ms-block">
                <div class="dropdown" uib-dropdown>
                    <a class="btn btn-primary btn-block" href="" uib-dropdown-toggle>Messages <i class="caret m-l-5"></i></a>

                    <ul class="dropdown-menu dm-icon w-100">
                        <li><a href=""><i class="zmdi zmdi-email"></i> Messages</a></li>
                        <li><a href=""><i class="zmdi zmdi-account"></i> Contacts</a></li>
                        <li><a href=""><i class="zmdi zmdi-format-list-bulleted"> </i>Todo Lists</a></li>
                    </ul>
                </div>
            </div>

            <div class="listview lv-user m-t-20">
                <div class="lv-item media" ng-repeat="conversation in conversations" ng-click="selectConversation(conversation)">
                    <div class="lv-avatar pull-left">
                        <img src="img/profile-pics/1.jpg" alt="">
                    </div>
                    <div class="media-body">
                        <div class="lv-title" ng-repeat="authorName in conversation.AuthorDisplayNames">{{ authorName }} {{$last ? '' : ', '}}</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="ms-body">
            <div class="listview lv-message">
                <div class="lv-header-alt clearfix">
                    <div id="ms-menu-trigger"  data-ng-class="{ 'open': mactrl.lvMenuStat }" data-ng-click="mactrl.lvMenuStat = (mactrl.lvMenuStat===true ? false : true )">
                        <div class="line-wrap">
                            <div class="line top"></div>
                            <div class="line center"></div>
                            <div class="line bottom"></div>
                        </div>
                    </div>

                    <div class="lvh-label hidden-xs">
                        <div class="lv-avatar pull-left">
                            <img src="img/profile-pics/1.jpg" alt="">
                        </div>
                        <span class="c-black" ng-repeat="authorName in currentConversation.AuthorDisplayNames">{{ authorName }} {{$last ? '' : ', '}}</span>
                    </div>

                    <ul class="lv-actions actions">
                        <li>
                            <a href="">
                                <i class="zmdi zmdi-delete"></i>
                            </a>
                        </li>
                        <li>
                            <a href="">
                                <i class="zmdi zmdi-check"></i>
                            </a>
                        </li>
                        <li>
                            <a href="">
                                <i class="zmdi zmdi-time"></i>
                            </a>
                        </li>
                        <li class="dropdown" uib-dropdown>
                            <a href="" uib-dropdown-toggle aria-expanded="true">
                                <i class="zmdi zmdi-sort"></i>
                            </a>

                            <ul class="dropdown-menu dropdown-menu-right">
                                <li>
                                    <a href="">Latest</a>
                                </li>
                                <li>
                                    <a href="">Oldest</a>
                                </li>
                            </ul>
                        </li>
                        <li class="dropdown" uib-dropdown>
                            <a href="" uib-dropdown-toggle aria-expanded="true">
                                <i class="zmdi zmdi-more-vert"></i>
                            </a>

                            <ul class="dropdown-menu dropdown-menu-right">
                                <li>
                                    <a href="">Refresh</a>
                                </li>
                                <li>
                                    <a href="">Message Settings</a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>

                <div class="lv-body">
                    <div class="lv-item media" ng-repeat="message in currentConversation.Messages | orderBy:'CreatedOn'">
                        <div class="lv-avatar pull-left">
                            <img src="img/profile-pics/1.jpg" alt="">
                        </div>
                        <div class="media-body">
                            <div class="ms-item">
                                {{ message.Content }}
                            </div>
                            <small class="ms-date"><i class="zmdi zmdi-time"></i> {{ message.CreatedOn }}</small>
                        </div>
                    </div>
                </div>

                <div class="clearfix"></div>

                <div class="lv-footer ms-reply">
                    <textarea placeholder="Reply..." ng-model="newMessage.Content"></textarea>
                    <button ng-click="reply(message.Content, currentConversation.ConversationId)"><i class="zmdi zmdi-mail-send"></i></button>
                </div>
            </div>
        </div>
    </div>
</div>
