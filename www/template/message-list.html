<div class="card card-message" onclick="" style="cursor: pointer;" ng-click="focused = !focused" outside-click="focused = false" ng-repeat="message in messages track by $index" data-ng-controller="messageCtrl as msgctrl" ng-class="{'card-focused': focused||mouseover}">
    <div class="card-body">
        <div class="wall-comment-list">
            <!-- Comment Listing -->
            <div class="wcl-list">
                <div class="media">
                    <a href="" class="pull-left">
                        <img class="lv-img-sm" ng-src="{{ message.AuthorAvatar || 'img/profile-pics/5.jpg' }}" alt="">
                    </a>
                    <div class="pull-right p-0">
                        <ul class="actions">
                            <li class="dropdown" uib-dropdown="">
                                <a href="" uib-dropdown-toggle="" aria-haspopup="true" aria-expanded="false"
                                   class="dropdown-toggle">
                                    <i class="zmdi zmdi-more-vert"></i>
                                </a>
                                <ul class="dropdown-menu dropdown-menu-right">
                                    <li>
                                        <a href="">Report</a>
                                    </li>
                                    <li>
                                        <a href="">Delete</a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>

                    <div class="media-body">
                        <a href="" class="a-title">{{message.AuthorDisplayName || 'Namn Namnsson' }}</a>
                        <small class="c-gray m-l-10">{{ message.CreatedOn || 'yyyy-mm-dd hh:ii:ss' }}</small>
                        <p class="m-t-5 m-b-0">{{message.Content}}</p>
                        <!--<a data-ng-click="msgctrl.toggleShowImage($event)" href="">
                            <img class="lv-img" ng-src="{{ message.metaData.thumbnail || 'https://s3-eu-west-1.amazonaws.com/mr-app-images/2016-03-07%2B15-08-18thumb.jpg' }}" alt="Attached image thumbnail">
                        </a>-->
                        <!--<img class="lv-img" ng-src="{{ 'https://s3-eu-west-1.amazonaws.com/mr-app-images/map-icon.png' }}" alt="Attached position">-->
                    </div>
                    <!--<div ng-if="showAttachedImage == 1" class="container" data-ng-include="'template/image-view.html'" full-size-image-div=""></div>-->
                </div>
            </div>
            <!-- Comment reply form -->
            <div ng-if="message.Author != id()" class="wcl-form" ng-show="focused||mouseover" ng-mouseover="mouseover=true" ng-mouseleave="mouseover=false">
                <div class="wc-comment">
                    <div class="wcc-inner">
                        <textarea class="wcci-text" ng-model="TextArea" data-auto-size placeholder="Write something..." ng-keyup="$event.keyCode == 13 && reply(message.ConversationId,TextArea)"></textarea>
                    </div>
                    <!-- Attach controls here -->
                    <div class="m-t-15">
                        <button class="btn btn-sm btn-primary" ng-click="">Attach image</button>
                        <button class="btn btn-sm btn-primary" ng-click="">Attach position</button>
                    </div>
                    <!-- Attach controls end here -->
                    <div class="m-t-15">
                        <button class="btn btn-sm btn-primary btnCancel" ng-click="reply(message.ConversationId,TextArea)">Reply</button>
                        <button class="btn btn-sm btn-link" data-ng-click="textArea = ''">Cancel</button>
                    </div>
                </div>
            </div>
            <!-- Comment reply form end here -->
        </div>
    </div>
</div>
<!--<div ng-click="test()" class="row">&nbsp;</div>-->