<div class="card card-message" ng-repeat="message in messages track by $index" data-ng-controller="messageCtrl as msgctrl" ng-class="{'card-focused': focused}">
    <div class="card-body">
        <div class="wall-comment-list">
            <!-- Comment Listing -->
            <div class="wcl-list">
                <div class="media">
                    <a href="" class="pull-left">
                        <img class="lv-img-sm" ng-src="{{ message.AuthorAvatar || 'img/profile-pics/5.jpg' }}" alt="">
                    </a>
                    <div class="pull-right p-0">
                        <ul class="actions">
                            <li class="dropdown" uib-dropdown="">
                                <a href="" uib-dropdown-toggle="" aria-haspopup="true" aria-expanded="false"
                                   class="dropdown-toggle">
                                    <i class="zmdi zmdi-more-vert"></i>
                                </a>
                                <ul class="dropdown-menu dropdown-menu-right">
                                    <li>
                                        <a href="">Report</a>
                                    </li>
                                    <li>
                                        <a href="">Delete</a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>

                    <div class="media-body">
                        <a href=""  ng-focus="focused = true" ng-blur="focused = false" class="a-title">{{message.AuthorDisplayName
                            || 'Namn Namnsson' }}</a>
                        <small class="c-gray m-l-10">{{ message.CreatedOn || 'yyyy-mm-dd hh:ii:ss' }}</small>
                        <p class="m-t-5 m-b-0">{{message.Content}}</p>
                    </div>
                </div>
            </div>
            <!-- Comment reply form -->
            <div ng-if="message.Author != id()" class="wcl-form" ng-show="focused||mouseover"
                 ng-mouseover="mouseover=true" ng-mouseleave="mouseover=false">
                <div class="wc-comment">
                    <div class="wcc-inner">
                        <textarea class="wcci-text" ng-model="TextArea" data-auto-size placeholder="Write Something..."
                                  ng-keyup="$event.keyCode == 13 && reply(message.ConversationId,TextArea)"></textarea>
                    </div>
                    <div class="m-t-15">
                        <button class="btn btn-sm btn-primary btnCancel"
                                ng-click="reply(message.ConversationId,textArea)">Reply
                        </button>
                        <button class="btn btn-sm btn-link" data-ng-click="textArea = ''">Cancel</button>
                    </div>
                </div>
            </div>
            <!-- Comment reply form end here -->
        </div>
    </div>
</div>
<div ng-click="test()" class="row">&nbsp;</div>